# 1) Runtime: use Node.js 20 on App Engine.
runtime: nodejs20

# 2) Start command for the app server.
entrypoint: npm start

handlers:
  # 3) Route all URLs to the app.
  - url: /.*
    # 4) Force HTTPS only.
    secure: always
    # 5) Redirect HTTP traffic permanently to HTTPS.
    redirect_http_response_code: 301
    # 6) Let App Engine handle script routing for Node runtime.
    script: auto
